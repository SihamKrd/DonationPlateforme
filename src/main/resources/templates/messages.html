<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Messagerie</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container">
    <h1>Messagerie</h1>

    <!-- Contacts -->
    <h2>Contacts</h2>
    <ul class="list-group" th:each="contact : ${contacts}">
        <li class="list-group-item">
            <span th:text="${contact.nom}">Nom Contact</span>
        </li>
    </ul>

    <!-- Annonces -->
    <h2>Annonces</h2>
    <ul class="list-group" th:each="annonce : ${annonces}">
        <li class="list-group-item">
            <span th:text="${annonce.titre}">Titre Annonce</span>
        </li>
    </ul>

    <!-- Messages -->
    <h2>Messages</h2>
    <ul id="messages-container" class="list-group">
        <!-- Messages chargés dynamiquement -->
    </ul>

    <!-- Formulaire d'envoi de message -->
    <form id="message-form" class="mt-4" th:action="@{/messages/envoyer}" method="post">
        <h2>Envoyer un message</h2>
        
        <!-- Ajouter les champs pour sélectionner l'expéditeur, destinataire et annonce -->
        <div class="mb-3">
            <label for="expediteurId" class="form-label">Expéditeur</label>
            <input type="text" id="expediteurId" name="expediteurId" class="form-control" required>
        </div>

        <div class="mb-3">
            <label for="destinataireId" class="form-label">Destinataire</label>
            <input type="text" id="destinataireId" name="destinataireId" class="form-control" required>
        </div>

        <div class="mb-3">
            <label for="annonceId" class="form-label">Annonce</label>
            <input type="text" id="annonceId" name="annonceId" class="form-control" required>
        </div>

        <div class="mb-3">
            <textarea id="message-content" name="contenu" class="form-control" placeholder="Tapez votre message" required></textarea>
        </div>

        <button type="submit" class="btn btn-primary">Envoyer</button>
    </form>
</div>
</body>
</html>
